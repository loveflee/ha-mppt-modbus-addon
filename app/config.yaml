name: "MPPT Modbus MQTT Poller"
version: "6.0.1"
slug: "mppt_modbus_mqtt_poller"
description: "é€éModbus-gateway(ä¸²å£æœå‹™å™¨é€å‚³æ¨¡å¼)è®€å–Ampinvt MPPTv1.1,ç™¼ä½ˆåˆ°MQTTï¼Œæ”¯æ´ha Discoveryèˆ‡haä¸Šè¨­å®šåƒæ•¸"
url: "https://github.com/loveflee/ha-mppt-modbus-addon"
documentation: "https://github.com/loveflee/ha-mppt-modbus-addon"

arch:
  - amd64
  - armv7
  - aarch64

startup: services
boot: auto
init: false

# ğŸŸ¢ [é è¨­å€¼] é€™äº›å€¼æœƒå‡ºç¾åœ¨å®‰è£å¾Œçš„ Configuration é é¢
options:
  debug: false
  timezone_offset: 8          # ğŸŸ¢ æ–°å¢ï¼šæ™‚å€è£œå„Ÿ (å°æ™‚)
  reset_discovery_on_exit: false # ğŸŸ¢ æ–°å¢ï¼šçµæŸæ™‚æ¸…é™¤å¯¦é«”
  modbus:
    host: "modbus gateway ip"
    port: 502
    unit_ids: "1, 2, 3, 4, 5" # ä½¿ç”¨å­—ä¸²æ ¼å¼ï¼Œæ–¹ä¾¿ä½¿ç”¨è€…è¼¸å…¥
    timeout: 3.0
    retry_delay: 2.0
  mqtt:
    broker: "core-mosquitto"
    port: 1883
    username: "mqtt_user"
    password: "mqtt_password"
    discovery_prefix: "homeassistant"
    node_id: "wifi01"
    device_name: "ampinvt_mppt"
  polling:
    poll_interval: 3
    delay_between_units: 0.5

# ğŸŸ¢ [è³‡æ–™é©—è­‰] å®šç¾©æ¯å€‹æ¬„ä½çš„é¡å‹
schema:
  debug: bool
  timezone_offset: int        # ğŸŸ¢ å®šç¾©ç‚ºæ•´æ•¸
  reset_discovery_on_exit: bool
  modbus:
    host: str
    port: int
    unit_ids: str             # å­—ä¸²è¼¸å…¥ï¼Œä¾‹å¦‚ "1, 2, 3"
    timeout: float
    retry_delay: float
  mqtt:
    broker: str
    port: int
    username: str
    password: str
    discovery_prefix: str
    node_id: str
    device_name: str
  polling:
    poll_interval: int
    delay_between_units: float

map:
  - config:rw
  - share:rw
  - ssl:ro

ports: {}
